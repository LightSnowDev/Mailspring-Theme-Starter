/*
 * File: email-list.less
 * 
 * This file handles the list (threads) of emails for both the single and two-row Panel design.
 * 
 * Current Bugs: 
 * - theme does not distinguish between read and not-read.
 * 
 */

@import "variables";

/*Popup for activity-button (header bar button)*/
nylas-popover-container {
  div[class="scroll-region-content-inner"] {
    background: white;
  }
}

/* Not used/not working. should round up the pop up
body.platform-win32 .fixed-popover{
  border-radius: 10px !important;
  padding-bottom: 4px !important;
}*/

/* white background for the activity analytics page */
div[class="column-ActivityContent"] {
  .scroll-region-content {
    border-left: 1px;
    border-left-color: rgba(221, 221, 221, 0.6);
    background-color: white !important;
  }
}

/* for the e-mail threads */
.thread-list {
  .list-container {
    .list-item {
      &.focused:hover .list-column-HoverActions .inner {
        color: @taiga-dark !important;
        background-image: linear-gradient(90deg, fadeout(@taiga-lighter, 100%) 0%, darken(@taiga-lighter, 10%) 100%);
        .action {
          -webkit-filter: none;
        }
        .thread-icon {
          &:not(.thread-icon-star) {
            opacity: 0.7;
          }
        }
      }
      &.focused {
        .thread-icon,
        .mail-important-icon,
        .draft-icon {
          -webkit-filter: none;
        }
        border-color: @taiga-accent !important;
        padding-bottom: 1px;
        border-width: 0 0 0px 4px !important;
        background-color: #e6ecff !important;
      }
      &:hover {
        .thread-icon {
          visibility: inherit;
        }
      }
    }
    .scroll-region-content {
      // Not used, needs to be reimplemented. Shoud be on "column-ThreadList" level, since it need o be on top of "column-MessageList"
      box-shadow: 2px 1.25px 3px -1px rgba(168, 168, 168, 0.5);
      background-color: #f6f6f6; //shown, if list is not full of items
      z-index: 3;
      .scroll-region-content-inner {
        .list-rows {
          .list-item {
            cursor: pointer !important;
            box-sizing: border-box;
            background-color: #fafafa !important;
            color: @taiga-dark !important;
            &.focused {
              color: @taiga-dark !important;
              background-color: #e6ecff !important;
            }
            &.unread {
              color: black !important;
              background-color: white !important;
            }
            &.selected {
              color: @taiga-dark !important;
              background-color: darken(#e6ecff, 5%) !important;
              border-bottom: 1px;
              border-bottom-color: rgba(221, 221, 221, 0.6);
            }
            &.keyboard-cursor {
              .list-column-Item {
                border-left: 4px solid darken(@taiga-lighter, 50%) !important;
              }
            }
          }
        }
      }
    }
  }
  .thread-icon {
    background-image: url(../static/images/thread-list/icon-star-hover-@2x.png);

    &:not(.thread-icon-star) {
      //visibility: hidden;
    }
  }
  .thread-icon-attachment {
    background-image: url("mailspring://Material-Spring/img/attachment@2x.png") !important;
    image-rendering: -webkit-optimize-contrast;
  }
}
